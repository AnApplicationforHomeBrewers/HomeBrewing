@using System.Linq


@inject SignInManager<ApplicationUser> SignInManager
@{
    ViewData["Title"] = "Search";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var UsersInfo = ViewBag.Users;
}

@model IEnumerable< HomeBrewing.Models.SubscriptionViewModels.UserInfoViewModel>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
<script type="text/javascript">
    var app = angular.module('MyApp', [])
    app.controller('MyController', function ($scope, $window, $http) {
            $scope.Search = function() {
                $http.post("../Subscription/Search", $scope.NameQuery).then(function (response) { 


                });
            }
    });
</script>

<h2>Index</h2>

    <div class="form-group">
                    
        <label>Search for a user</label>
        <input type="text" ng-model="NameQuery" class="form-control" />

        <br />
                 
    </div>
    <div class="form-group">
        <input class="btn btn-success" type="button"  ng-click="Search()"  value="Search" />
    </div>

    <hr/>

    <div class="row">

    <div class="col-md-2"></div>
    <div class="col-md-8">

    <table class="table table-bordered">
        <tr>
            <th>Name</th>
            <th>Surname</th>
            
           

        </tr>
        @foreach (var item in UsersInfo)
        {

            <tr>
                <td> @item.Name</td>
                <td> @item.Surname</td>
                
            </tr>
        }


    </table>
    </div>
    <div class="col-md-2"></div>

</div>